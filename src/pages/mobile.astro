---
import Layout from "../layouts/Layout.astro";
import UnsplashCard from "../components/Card.astro";
import Search from "../components/Search.astro";
import ButtonFilter from "../components/ButtonFilter.astro";

// Definir el tipo de las cards
interface Card {
  id: number;
  title: string;
  subtitle: string;
  description: string;
  iconSrc: string;
  iconBg: string;
  cardBg: string;
}

// Cargar datos del archivo JSON
let cards: Card[] = [];

try {
  const response = await import("../data/Mobile.json");
  const data = response.default || response;
  cards = data.cards || [];
} catch (error) {
  console.error("Error cargando JSON:", error);
  cards = [];
}
---

<Layout
  title="DevVault - Herramientas para desarrollo Mobile"
>
  <div class="max-w-[1200px] mx-auto px-4 md:px-0">
    <!-- Header -->
    <header class="mb-10">
      <div class="mt-7">
        <h1 class="text-3xl md:text-4xl font-bold text-white mb-4">
          Mobile Development
        </h1>
        <p class="text-gray-400 mb-6">
          Frameworks, herramientas y lenguajes para crear aplicaciones m√≥viles nativas y multiplataforma.
        </p>
        <Search />
      </div>

      <div class="flex flex-wrap gap-2 mt-4">
        <ButtonFilter label="Cross-Platform" />
        <ButtonFilter label="iOS" />
        <ButtonFilter label="Android" />
        <ButtonFilter label="Native" />
        <ButtonFilter label="Hybrid" />
      </div>
    </header>

    <!-- Recursos -->
    <section>
      <h2 class="text-2xl md:text-3xl font-semibold text-white mb-6">
        Recursos ({cards.length})
      </h2>

      <div
        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5"
      >
        {cards.map((card) => (
          <UnsplashCard
            title={card.title}
            subtitle={card.subtitle}
            description={card.description}
            iconSrc={card.iconSrc}
            iconBg={card.iconBg}
            cardBg={card.cardBg}
          />
        ))}
      </div>
    </section>
  </div>
</Layout>